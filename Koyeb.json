{
  "name": "flask-app",
  "image": {
    "name": "python",
    "tag": "3.10"
  },
  "deployment": {
    "containers": [
      {
        "env": [
          {
            "name": "FLASK_APP",
            "value": "run.py"
          },
          {
            "name": "FLASK_ENV",
            "value": "production"
          },
          {
            "name": "SECRET_KEY",
            "value": "secret-key"
          },
          {
            "name": "DATABASE_URL",
            "value": "${DATABASE_URL}"
          }
        ],
        "resources": {
          "cpu": "0.1",
          "memory": "128Mi"
        },
        "ports": [
          {
            "port": 8080,
            "protocol": "TCP"
          }
        ],
        "command": [
          "gunicorn",
          "-w",
          "4",
          "-b",
          "0.0.0.0:8080",
          "run:app"
        ]
      }
    ]
  }
}
